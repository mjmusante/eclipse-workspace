package sequence;

import java.util.ArrayList;
import java.util.List;
import java.util.Scanner;

import javax.swing.JButton;
import javax.swing.JLabel;
import javax.swing.JTextArea;
import javax.swing.JTextField;

import BreezySwing.GBFrame;


public class UI extends GBFrame {
	
	JTextArea mainWin = addTextArea("", 1, 1, 5, 6);
	JLabel lab1 = addLabel("Enter numbers separated by spaces or commas", 7, 2, 3, 1);
	JLabel lab2 = addLabel("", 7, 1, 1, 1);
	JTextField inputField = addTextField("", 8, 2, 2, 1);
	JButton inputButton = addButton("Input", 8, 4, 1, 1);
	JButton outputButton = addButton("Output", 9, 2, 1, 1);
	JButton resetButton = addButton("Reset", 9, 3, 1, 1);
	JButton exitButton = addButton("Exit", 9, 4, 1, 1);
	
	Sequencer curSeq = new Sequencer();
	List<Sequencer> curResult = new ArrayList<Sequencer>();
	
	public UI() {
		mainWin.setEditable(false);
	}
	
	private void outputResult() {
		if (curSeq.size() == 0) {
			mainWin.setText("Current input: <empty>");
		} else {
			mainWin.setText("Current input: " + curSeq.prettyPrint());
		}
	}
	
	public void reset() {
		curSeq = new Sequencer();
		curResult = new ArrayList<Sequencer>();
		
		outputResult();		
	}
	
	private void scanSequence(String s) {
		Scanner scanner = new Scanner(s);
		List<Integer> list = new ArrayList<Integer>();
		while (scanner.hasNextInt()) {
		    list.add(scanner.nextInt());
		}
		scanner.close();
		
		curSeq = new Sequencer(list);
		curResult = new ArrayList<Sequencer>();
		
		outputResult();
	}
	
	public void buttonClicked(JButton b) {
		if (b == exitButton) {
			System.exit(0);
		} else if (b == inputButton) {
			scanSequence(inputField.getText());
			inputField.setText("");
		}
	}
	
	public static void main(String[] argv) {
		
		UI frm = new UI();
		
		frm.reset();
		
		frm.setTitle("Longest Sequence");
		frm.setSize(800, 600);
		frm.setVisible(true);
	}
}
